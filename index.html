<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>画像から切り絵を生成するWebツール</title>
  <!-- レスポンシブ対応 -->
  <script src="https://cdn.jsdelivr.net/npm/viewport-extra@1.0.3/dist/viewport-extra.min.js"></script>
  <script>new ViewportExtra(375)</script>
  <!-- CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3.4.21/dist/vue.global.min.js"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/plus_minus_input_number.css">
</head>
<body>
  <h1>画像から切り絵を生成するWebツール</h1>
  <div id="app" v-cloak>
    <div class="input-file-container">
      <div class="input-file">
        <div class="btn" @click="$refs.inputImageFile.click()">ファイルを選択</div>
        <input type="file" ref="inputImageFile" @change="onChangeInputImageFile">
      </div>
      <div class="file-name">{{imageFileName}}</div>
    </div>

    <div class="canvas-container">
      <div id="src-title">無加工画像</div>
      <canvas ref="srcCanvas"></canvas>
    </div>

    <div id="setting">
      <div class="item">
        <div class="name">幅</div>
        <div class="input">
          <plus-minus-input-numbur
            :min="imageWidthMin"
            :max="imageWidthMax"
            v-model="imageWidth"
            @change="onChangeImageWidth">
        </div>
      </div>

      <div class="item">
        <div class="name">
          <div>黒閾値</div>
          <div class="hosoku">少:0-255:多</div>
        </div>
        <div class="input">
          <plus-minus-input-numbur
            :min="0"
            :max="255"
            v-model="baseAverageColor"
            @change="onChangeBaseAverageColor">
        </div>
      </div>
    </div>

    <div id="action-btn-container">
      <div class="input-check-area">
        <div class="btn action-btn" @click="onClickRemoveNoise">ノイズ除去</div>
      </div>
    </div>

    <div class="canvas-container">
      <div id="dst-title">加工画像</div>
      <canvas ref="dstCanvas"></canvas>
    </div>
  </div>

  <script src="/components/plus_minus_input_numbur.js"></script>
  <script src="image_editor.js"></script>
  <script src="main.js"></script>
</body>
</html>
